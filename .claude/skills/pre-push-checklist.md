---
name: pre-push-checklist
description: プッシュ前に関連ドキュメントと更新情報を確認・更新する。git pushの前に必ず実行。
---

# プッシュ前チェックリスト

## 目的

`git push` 前に以下を確認・更新し、ドキュメントと実装の乖離を防ぐ。

## 実行タイミング

**必須**: `git push` を実行する前に必ずこのスキルを実行。

## チェック項目

### 1. 更新情報ページ (`/update-changelog`)

ユーザーに見える変更がある場合、`src/app/updates/page.tsx` を更新。

```bash
git log --oneline -5
```

**追加基準:**
- `type: "new"` - 新規ページ追加
- `type: "improve"` - 機能追加、デザイン改善、バグ修正
- 内部リファクタリングは記載不要

### 2. CLAUDE.md

以下の変更があった場合に更新:
- プロジェクト構造の変更
- 新しいコマンドの追加
- コードスタイルの変更
- 重要な設定の追加

```bash
# 変更されたファイルを確認
git diff --name-only HEAD~5
```

### 3. docs/COMPONENTS.md

以下の変更があった場合に更新:
- 新しいコンポーネントの追加
- 既存コンポーネントのProps変更
- コンポーネントの削除

### 4. docs/DEPLOYMENT.md

以下の変更があった場合に更新:
- デプロイ手順の変更
- 環境変数の追加・変更
- Firebase設定の変更

## 実行手順

```
1. git log で直近の変更を確認
2. 各ドキュメントの更新要否を判定
3. 必要に応じて更新
4. 更新があれば追加コミット
5. git push を実行
```

## 出力例

```
## プッシュ前チェック結果

### 直近のコミット
- feat(updates): サブタイトル変更とジョニーを追加
- style(menu): 更新情報を「アップデート情報」カテゴリに移動

### ドキュメント更新
- [x] 更新情報ページ - 更新不要（内部変更のみ）
- [x] CLAUDE.md - 更新不要
- [x] docs/COMPONENTS.md - 更新不要
- [x] docs/DEPLOYMENT.md - 更新不要

### 結果
全てのドキュメントが最新です。プッシュを続行してください。
```
